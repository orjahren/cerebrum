2018-11-19 <kennethj@gagarin.uit.no>
    * populate_fronter_groups.py:   updated to handle utf-8 encoding instead of iso-8859-1
2018-11-01  <kennethj@gagarin.uit.no>
    * export_oid.py: removed utf-8 encoding on contact_value. it has already been encoded.
    * export_cristin.py:    updated to handle utf-8 input and iso-8859-1 output. (we're really not happy about the solution, but it works :)
2018-10-31  <kennethj@gagarin.uit.no>
    * process_systemx.py:   updated to handle utf-8 data. updated how to calculate gecos
    * export_oid.py:    removed double utf-8 encoding
    * process_students.py: upated to handle utf-8 data
2018-10-25  <kennethj@gagarin.uit.no>
    * export_ad.py: added missing unicode_literals import
    * import_system_accounts.py:    updated to handle unicode, also replaced function that creates unicode to use transliterate
    * .vscode: added code debug file
2018-10-25  <kennethj@gagarin.uit.no>
    * import_tlf.py: added sendmail import (which was removed while testing)
2018-10-25  <kennethj@gagarin.uit.no>
    * ADquickSync.py:   fixed indentation mess.

2018-10-23    <kennethj@gagarin.uit.no>
    * ADquickSync.py:   updated to read json from changelog.
2018-10-21    <kennethj@gagarin.uit.no>
    * ad_export_autogroups_undervisning.py:  updated to read utf-8 instead of iso-8859-1
    * export_ad.py : updated to read utf-8 instead of iso-8859-1
    * export_ldap.py : updated to read utf-8 instead of iso-8859-1. also fixed 2 parameter name changes
    * export_oid.py:  updated to read utf-8 instead of iso-8859-1
    * export_securimaster.py: updated to read utf-8 instead of iso-8859-1
    * generate_groups_ldif.py: updated to read utf-8 instead of iso-8859-1
    * generate_temp_employee_xml.py: updated to read utf-8 instead of iso-8859-1

2018-10-21    <kennethj@gagarin.uit.no>
    * generate_kurs_ldif.py:  updated to read utf-8 instead of iso-8859-1

2018-10-21    <kennethj@gagarin.uit.no>
    * import_tlf.py:  updated to write utf-8 encoded strings to FS

2018-10-21    <kennethj@gagarin.uit.no>
    * update_displayname.py:  updated to write utf-8 encoded strings to FS

2018-10-21    <kennethj@gagarin.uit.no>
    * wipe.py:  updated to handle json format in changelog instead of pickle

2018-10-21    <kennethj@gagarin.uit.no>
    * import_SYSX.py: updated to handle ou file on utf-8 format

2018-10-21    <kennethj@gagarin.uit.no>
    * import_sito.py: updated to handle ou file on utf-8 format


2018-10-21    <kennethj@gagarin.uit.no>
    * generate_paga_persons.py Updated to handle UTF-8 from FS

2018-10-21    <kennethj@gagarin.uit.no>
    * import_PAGA.py Updated to handle UTF-8 from FS

2018-10-20    <kennethj@gagarin.uit.no>
    * merge_xml_files.py Updated to handle UTF-8 from FS
2018-10-20    <kennethj@gagarin.uit.no>
    * import_FS.py      updated to handle UTF-8 from FS.

2018-10-18    <kennethj@gagarin.uit.no>
    * generate_OU.py	Updated to handle UTF-8 from FS
2018-09-13    <cerebrum@gagarin.uit.no>
    * import_PAGA.py    We cannot import persons from paga where the last 5 digits are set to 00000 (non-norwegians missing propper fnr).
                        There are 2 reasons for this. 1: the resulting 11 digit fnr is not unique. 2: In some cases giving an existing username to a returning user, will give the wrong username. in reallity the username 
                        returned actually belongs to someone else.
2018-08-16    <cerebrum@gagarin.uit.no>
    * process_uit_email.py (get_existing_email) rewrote how we collect already existing email addresses.
            The previous version was bloated and took too much time. The new version collects existing email addresses
            directly from the email table, not caring if the owning account, is expired or what affiliation it might have.

    *   process_uit_email.py (get_cn_addr) we will not try ALL alternatives when looking for a free email address, and not
            only the first alternative as was the case until now. 


2018-06-26    <cerebrum@gagarin.uit.no>
    * user_expire.py is now to be run on cleomedes. activate send_mail function

2018-06-19    <cerebrum@gagarin.uit.no>
	* export_ad (get_ouinfo): this function will not return false if the ou_id is quarantined
			    rewrote script to use the get_name_with_language() function when getting ou names. 					

2018-06-08    <cerebrum@gagarin.uit.no>

	* export_cristin.py (filter_timelonnet): added function to filter out persons with a single affiliation whos status is timelonnet

2018-05-29    <cerebrum@gagarin.uit.no>

	* process_students.py (get_existing_accounts): removed lots of debug lines. Also rewrote how we calculate account home. the previous version didnt work as intended and generated LOTS of unnecessary changelog entries. The current version is the same as uio uses.

2018-05-24    <cerebrum@gagarin.uit.no>

	* process_systemx.py (Build._process_sysx): This script will now also send out emails when reopening old accounts

2018-05-03    <cerebrum@gagarin.uit.no>

	* export_safecom.py (safecom_export.load_cbdata): Need to collect all accounts, not only primary
	(safecom_export.get_safecom_mode): The old function which calcualted wether an account should be pay or track, did this based on person information.
	This will fail for persons with more than 1 account and where the accounts should end up in different file (track/pay). the new function calculates
	the pay/track status based on person info AND account info and will yield a correct status wether a person has 1 account or more.

2018-04-24  Karen   <cerebrum@gagarin.uit.no>

    * populate_fronter_groups.py: Minor tidy up. Removed reference to make_fs() as it is not used.

2018-04-18    <cerebrum@gagarin.uit.no>

	* process_uit_email.py (calculate_uit_emails): Rewrote how to
	check for timelonnet. the previous check did not work as intended
	if a person had more than 1 affiliation to an ou where one of the affiliations had timelonnet status

2018-04-17    <cerebrum@gagarin.uit.no>

	* process_uit_email.py (calculate_uit_emails): Rewrote how we
	decide who gets cnaddr email address. The new solution only
	collects valid/current person affiliation and uses that as its
	basis on who gets what. the old solution also collected expired
	person affiliatiosn which didnt scale all that well.

2018-04-16    <cerebrum@gagarin.uit.no>

	* account_affiliation_cleaner.py (clean_acc_affs): Script changed to NOT delete the last account_type for an account. Even closed accounts will
	have at least 1 account_type, even if it is no longer valid. this was done because process_students was unable to activate an old account
	if said account had lost all its account_types.

2018-04-05  Karen   <cerebrum@gagarin.uit.no>

    * export_cristin.py: Commented out unnecessary prints.

2018-03-23    <cerebrum@gagarin.uit.no>

	* import_tlf.py (process_telefoni): the script will now continue with next user, if a username is encountered in the import file (from cmg) and is missing in the database. until now, the script would crash with a keyerror

2018-03-14    <cerebrum@gagarin.uit.no>

	* export_ad.py (ad_export.build_xml): This script will now also
	export new contact data from the account object (and not only on the
	person object). Additionally, the following check is performed: if
	the account objects containts a new contact value, but from the
	same source and type as the person object, the account object
	contact value will superseede the value from the person object.
	in effect the value from the person oject will NOT be exported.
	(ad_export.build_xml): removed debug lines

2018-03-02    <cerebrum@gagarin.uit.no>

	* import_FS.py (rem_old_aff): Fagpersons from FS are to lose their
	fagperson affiliation the same day they are missing in import data
	from FS.

2018-02-27    <cerebrum@cleomedes.uit.no>

	* import_FS.py (register_cellphone): all phonenumbers are to have the prefix +<country_code>

2018-02-20    <cerebrum@gagarin.uit.no>

	* update_displayname.py (main): updated url to aliases to jep2n1.uit.no

2018-02-16  Karen   <cerebrum@cleomedes.uit.no>

    * ad_export_autogroups_undervisning.py: Made changes that where necessary for this script to work 
    correctly with new BAS: Updated search terms to reflect changes in the database to group names, and 
    adjusted code to handle these changes. Added functionality to filter away undervisningsenhet groups 
    that are not from this or next semester. Studieprogram with no members are now filtered away. 

2018-02-14    <cerebrum@cleomedes.uit.no>

	* process_systemx.py (send_mail): removed the debug flag which prevented emails from being sent

2018-02-12    <cerebrum@cleomedes.uit.no>

	* process_systemx.py (send_mail): whenever a new user is
	registered in system-x, a email will now be sent to the requestor
	and user with a copy to bas-admin@uit.no

2018-01-31    <cerebrum@cleomedes.uit.no>

	* export_cristin.py (LTPersonRepresentation.__init__): Removed function that validates fnr. The test will
	fail for all fnr with 5 0(zero) at the end (coming from PAGA)

	* export_safecom.py (safecom_export.list_affiliations): moved logger.warn to logger.debug

2018-01-24    <cerebrum@cleomedes.uit.no>

	* export_cristin.py (output_OU): Refactored how to collect ou.name as the old method no longer returned propper data.
	Refactored how to collect ou.acronym as the old method no longer returned propper data.

2018-01-18  Karen   <cerebrum@cleomedes.uit.no>

    * import_tlf.py (process_telefoni): Removed unnecessary logger warnings about empty phone numbers.

    * import_tlf.py (is_new_number): Minor bugfix.

2018-01-18    <cerebrum@cleomedes.uit.no>
    
    * maillog.py: Added to repo.

2018-01-17  Karen   <cerebrum@cleomedes.uit.no>

    * import_tlf.py: Made changes to import_tlf.py so that it only updates telephone 
    numbers that have actually changed.

2018-01-02    <cerebrum@cleomedes.uit.no>

	* generate_temp_employee_xml.py (write_xml): removed debug lines

	* ad_export_autogroups_undervisning.py (get_skoinfo): removed (debug) print lines.

2017-12-21  Karen   <cerebrum@cleomedes.uit.no>

    * import_PAGA.py: Added functionality to remove employee person spreads if person no longer has 
    ANSATT affiliation. Spreads to remove are listed in cereconf.EMPLOYEE_PERSON_SPREADS.

2017-12-18    <cerebrum@cleomedes.uit.no>

	* import_FS.py (process_person_callback): new_person.populate() should not be inside try catch.

2017-12-13    <cerebrum@cleomedes.uit.no>

	* export_xml_fronter.py: removed old import line

	* import_OU.py (set_quaran): Remove debug line

2017-12-08    <cerebrum@cleomedes.uit.no>

	* import_OU.py (set_quaran): add_entity_quarantine need dattime object to be string.

2017-12-07    <cerebrum@cleomedes.uit.no>

	* import_tlf.py (notify_phoneadmin):fixed a bug which would make the rogram crash if dryrun and debug was used at the same time

	* update_displayname.py (main): updated url

	* process_uit_email.py (get_priority): removed 2 printlines

2017-12-01    <cerebrum@cleomedes.uit.no>

	* process_uit_email.py (process_mail): we cannot iterate over an
	empty object. create if test first

2017-11-21    <cerebrum@cleomedes.uit.no>

	* generate_OU.py (ou.__init__): updated FS source database

	* import_tlf.py (init_cache): all workphones will now have the
	prefix +47 added to their number

	* import_sito.py (import_person): Script will now also import
	person work titles

2017-11-15    <cerebrum@cleomedes.uit.no>

	* wipe.py: Added to repo. it deletes passwords from the change_log table

2017-11-13    <cerebrum@cleomedes.uit.no>

	* export_ad.py: this script will now use 2 different functions to
	collect ou information. one for regular UiT (with stedekode) for
	employees and students. One for sito (withouth stedkode) for sito
	employees

2017-11-09    <cerebrum@cleomedes.uit.no>

	* import_PAGA.py (process_person): Added code that will collect
	campus information for all paga persons

2017-11-08    <cerebrum@cleomedes.uit.no>

	* ad_export_autogroups_undervisning.py: need to import access_FS
	from the no tree in order to import override function
	underv_enhet_xml_parser and underv_enhet_xml_parser

2017-11-07    <cerebrum@cleomedes.uit.no>

	* process_uit_email.py (calculate_uit_emails): updated script to
	run propperly on cleomedes withouth breaking. Also fixed function
	that calculates current and new primary email address. The
	previous version was not able to calculate new preimary correctly.


2017-10-27    <cerebrum@cleomedes.uit.no>

	* process_ou_groups.py: rewrote script to collect Stedkode class
	from import instead of factory.

2017-10-23    <cerebrum@cleomedes.uit.no>

	* export_safecom.py (safecom_export.list_affiliations): Fixed
	numerous errors. all names are now collected with the
	ou.get_name_with_language() function. Updated sito path
	name. Although this script works for both uit and sito persons,
	the sito part is only partially successfull when collecting ou
	info. in paricular sito units does not have stedkode and thus
	sko.whatever() will fail. rewrite this script to use ou.whatever()
	when processing sito org units

2017-10-20    <cerebrum@cleomedes.uit.no>

	* process_students.py (get_existing_accounts): added code to
	filter out accounts with sito spread, they are not to be processed
	by process_students.py

2017-10-03  Karen  <cerebrum@cleomedes.uit.no>

    * import_PAGA.py (process_person): Fixed y2k bug. The problem is really in 
    Cerebrum.modules.no.fodselsnr, but is now handled in import_PAGA.

2017-09-28  Karen   <cerebrum@cleomedes.uit.no>

    * export_pagaweb_users.py (parse_paga_csv): Added timelønnet to list of valid arbeidsforhold.

2017-08-31  Karen   <cerebrum@cleomedes.uit.no>

    * export_pagaweb_users.py (parse_paga_csv): Added lærling to list of valid arbeidsforhold.

2017-08-23  Karen   <cerebrum@cleomedes.uit.no>

    * export_pagaweb_users.py: Updated import of AtomicFileWriter.

    * export_pagaweb_users.py (parse_paga_csv): Updated with changes made on 
    Leetah that are needed here too: Added postdocs (ÅP) to list of persons to 
    include in output file.

2017-07-28  Karen   <cerebrum@cleomedes.uit.no>

    * import_PAGA.py (determine_affiliations): Persons with tjenesteforhold = T
    and stillingsandel = 0.0 now get affiliation status "Timelønnet midl".

    * import_PAGA.py (process_person): Personal/home address is now added with 
    populate_address() and the correct address type (const.address_post_private).

    * export_oid.py: Updated with changes made on Leetah that are needed here 
    too: Each person object in the oid export file will now contain home address, 
    postal code and city (if they exist).

2017-07-20  Karen   <cerebrum@cleomedes.uit.no>

    * generate_paga_persons.py (parse_paga_csv): Updated with changes made on Leetah 
    that are needed here too: Removed ou remapping that is no longer in use, and 
    updated to collect home adress for all employees.

    * generate_paga_persons.py: Added 'tjenesteforhold' to the <tils> data for the 
    paga_persons file.

2017-07-20    <cerebrum@cleomedes.uit.no-cleomedes>

	* ad_export.py (get_ouinfo): Major rewrite of this script to make
	it work with updated cerebrum version.

2017-07-19  Karen   <cerebrum@cleomedes.uit.no>

    * export_oid.py (load_cb_data): Added co.affiliation_status_timelonnet_midlertidig 
    to aff_status_filter.

2017-07-19    <cerebrum@cleomedes.uit.no-cleomedes>

	* export_safecom.py: several changes. fixed import of
	memoize. Fixed import of Stedkode. At this time the script is
	still not working. this because it tries to collected ou info with
	a different perspective (Harstad).If this script is to export
	safecom data for Harstad, the perspective code has to be
	changed. Then again.. should Harstad have its own perspective
	code?

2017-07-18    <cerebrum@cleomedes.uit.no-cleomedes>

	* import_sito.py (import_OU): use ou.populate(), not
	ou.populate_without_sko() when populating sito ous

2017-06-22  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py (restore_uname, restore_uname_tmp, create_user, create_user_tmp): 
    Removed all calls to account.add_student_to_server_group() as it is obsolete.

    * import_PAGA.py (process_person): Bugfix: Added checks for presence of adresse, postnr 
    and poststed in person.keys.

2017-04-20    <cerebrum@cleomedes.uit.no-cleomedes>

	* skype_export.py (write_file): removed debug lines, added expired account filtering.

2017-04-19    <cerebrum@cleomedes.uit.no-cleomedes>

	* skype_export.py (write_file): Added script to repo. this script
	collects info about sito employees and writes to a file. script
	needd by espen amundsen for list of sito skype users

	* import_PAGA.py: we now also import campus information on each person

	* process_students.py: mx.DateTime cant handle None, use 0 instead

2017-04-18    <cerebrum@cleomedes.uit.no-cleomedes>

	* export_safecom.py: replaced export_safecom.py with
	export_safecom2.py from leetah.

	* spread_cleaner.py (process_spread): removed debug line

2017-04-12    <cerebrum@cleomedes.uit.no-cleomedes>

	* ad_export_autogroups_undervisning.py: momoize has moved to another file. updated import

	* import_tlf.py (process_telefoni): changed 2 print debug lines to logger.debug()

2017-04-11    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py (BuildAccounts._process_students_callback):
	added processing(expire) of deceased persons. Added
	setting/expiring of spreads on student accounts

2017-04-06    <cerebrum@cleomedes.uit.no-cleomedes>

	* import_tlf.py (notify_phoneadmin): added option
	--no-email. using this flag when starting the script will turn off
	email notification to phone admins. this feature was added because
	we do not want email to phoneadmin from new cerebrum until old
	cerebrum has been decomissioned

2017-04-03    <cerebrum@cleomedes.uit.no-cleomedes>

	* generate_fronter_full.py (FronterXML.__init__): replaced all references to UREG2000 with FS@uit.
	(process_kurs2enhet): Added function to handle invalid sko with
	building ou structure. our fix will log a warning intead of
	crashing if an unvalid ou is found

	* import_PAGA.py (process_person): removed fodselsnumber check for
	accounts owned by users with fodselsnumber on the form 00000xxxxxx

	* process_students.py (get_existing_accounts): Reverted change
	where we needed to use account.search instead of account.list when
	collecting existing accounts.  We no longer need to know the
	usrname when this data is processed.

	* export_ldap.py (ldap_export): changed default spread for system tree to system@ldap

2017-03-27    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (Build._process_sysx): ldap@uit is no longer
	supported in new cerebrum. Since the source system (system-x
	registration system) is still used by old cerebrum, we cannot
	remove ldap@uit. instead we will translate it to people@ldap and
	system@ldap for now. we can remove ldap@uit.no once system-x is no
	longer used by old cerebrum.

2017-03-22  Karen   <cerebrum@cleomedes.uit.no>

    * import_PAGA.py: Now checks employment percentage before adding employee person spreads for persons 
    with ANSATT affiliation.

2017-03-20    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (get_existing_accounts): udpated script with new spreads. lots of old spreads deleted, and new added

	* process_sito_email.py (process_mail): renamed exchange spread to
	exchange_mailbox

	* user_expire.py (check_users): run user_expire.py on all
	accounts. no matter what spread the account has

	* process_systemx.py (Build._process_sysx): replaced exchange_acc@uit with exchange_mailbox

	* process_sito.py (Build._calculate_spreads): replaced
	exchange_acc@uit with exchange_mailbox

	* process_paga.py (Build._calculate_spreads): replaced
	exchange_acc@uit with exchange_mailbox

	* process_systemx.py: removed SUT@uit as valid spread
	removed sut_mailbox as valid spread

	* import_system_accounts.py: removed comment about fd@uit being valid spread

	* process_systemx.py (Build._process_sysx): updated spread from frida@uit.no to cristin@uit
	(Build._process_sysx): removed spread fd@uit

2017-03-08  Karen   <cerebrum@cleomedes.uit.no>

    * import_PAGA.py: Added functionality to add employee person spreads if person has ANSATT affiliation.
    Spreads to add are listed in cereconf.EMPLOYEE_PERSON_SPREADS.

2017-03-07    <cerebrum@cleomedes.uit.no-cleomedes>

	* import_tlf.py (delete_phonenr): fixed error handling..which has
	never worked. The script will now actually delete contact info if
	required (which also didnt work before)

2017-03-02    <cerebrum@cleomedes.uit.no-cleomedes>

	* import_tlf.py (init_cache): updated script to check number of changes towards cereconf.MAX_NUM_ALLOWED_CHANGES.
	if number of changes are larger, no changes are done and an error logged.

	* process_students.py (get_default_expire_date):
	default_expire_date is now calculated directly (and not set to
	none) when creating the account.

	* process_paga.py (Build.process_person): Also need to set expire
	data on accounts with current expire_date = None

2017-03-01    <cerebrum@cleomedes.uit.no-cleomedes>

	* user_expire.py: Email notifications are sent from leetah. cleomedes will not send emails yet..

2017-02-24    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py (get_existing_accounts): removed lots of debug lines. script changed to also process fagpersoner from fs

2017-02-08  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_uit_email.py (process_mail): Email addresses (primary and aliases) from Caesar 
    are now all cached at beginning of process_mail instead of getting them seperately for each account.

2017-02-07    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (Build._process_sysx): Unable to find account object for new user. return None, and continue with next user

2017-01-31    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_sito.py (_handle_changes): Added setting of account_home

2016-12-21    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py: further work on handling fagpersoner from FS

2016-12-14    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py: Updated script to also handle fagpersoner from FS

2016-11-28  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito_email.py (get_cn_addr_tmp): Fixed a small bug.

2016-11-09  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py (create_user_tmp): Now checks if username is free in Clavius database. If not a
    warning is logged and the user is ignored.

    * process_sito.py (create_sito_account_tmp): Now checks if username is free in Clavius database. If not a
    warning is logged and the user is ignored.

2016-11-09    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_uit_email.py (process_mail): Collect email addresses (primary and alies) from caesar, instead of creating
	new ones in new cerebrum. Once old cerebrum is offline, this will have to be changed back

2016-11-08  Karen   <cerebrum@cleomedes.uit.no>

    * process_systemx.py: Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.

2016-11-08    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_paga.py (create_employee_account_tmp): Added sanity
	check when collecting username from old cerebrum. If the username
	is already taken in new cerebrum (which normally shouldnt
	happend.. but it does if join_person is executed on old cerebrum
	only), return error message and continue to next user

2016-11-07  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py: Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.
    
2016-10-28  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito_email.py: Made temporary changes to use while running old and new Cerebrum 
    in parallel: email and email aliases for new accounts are copied from old Cerebrum.

    * process_sito_email.py (process_mail): Now using correct spread constant for account search.

2016-10-20  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito.py (create_sito_account): Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.

    * process_sito.py (parse): Removed percentage check when creating sito accounts.

    * import_sito.py (generate_person_list): Removed percentage check when creating sito accounts.

2016-10-11  Karen   <cerebrum@cleomedes.uit.no>

    * process_sito_email.py: Changed import of simple_memoize to import of memoize and updated 
    code where simple_memoize was used.

2016-10-10    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (Build._CreateAccount): suggest_uname returns
	array. Although this is not needed what creating uit usernames, we
	make sure to select the first element. This ensures that we can
	use the uio code withouth any other changes

2016-10-04    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_paga.py: updated how dryrun is used. also fixed
	suggest_unames to return first element in list. this because uio
	changes in their release

2016-10-03  Karen   <cerebrum@cleomedes.uit.no>

    * generate_paga_persons.py: Removed ekstra import of Cerebrum.Utils.Factory.

    * generate_OU.py: Updated import of AtomicFileWriter and removed ekstra import of 
    Cerebrum.Utils.Factory.

2016-09-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_paga_persons.py: AtomicFileWriter has been moved to its
    own file. updating imports

2016-08-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * export_ldap.py (ldap_export): Added kurs_ldif to the files concatenated into temp_uit_ldif

2016-08-08  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py: 'default_shell' is now initially set to 'const.posix_shell_bash' 
    instead of 'None'.

    * process_students.py (AccountUtil.create_user): Changed call to account.suggest_unames() 
    so first parameter is fnr instead of const.account_namespace.

2016-06-29  Karen   <cerebrum@cleomedes.uit.no>

    * export_xml_fronter.py: Adapted so it runs with new cerebrum and removed hifm_stedkode things. 

2016-06-28  Karen   <cerebrum@cleomedes.uit.no>

    * export_xml_fronter.py: Added to repo. Copied from Leetah.

2016-06-15    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_person): removed debug line

    * process_paga.py (_handle_changes): removed debug line

2016-06-09    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py (Build._CreateAccount): fnr need to be processed as string, not int

    * process_students.py: removed debug line
    (AccountUtil._handle_user_changes): removed debug line

2016-06-08    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (generate_person_list): Removed old debug line
    (import_OU): added ou.write_db after ou.populate. this is needed
    to get ou.entity_id in the add_name_with_language on the next line.

2016-05-30  Karen   <cerebrum@cleomedes.uit.no>

    * generate_fronter_full.py: Replaced 'uio' with 'uit' where necessary

2016-05-26  Karen   <cerebrum@cleomedes.uit.no>

    * generate_fronter_full.py: Added to repository. Copied from /home/cerebrum/cerebrum/contrib/no/uio/.

2016-05-26    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_sito.py (_handle_changes): we will no longer set account homedir
    sito does not use stedkoder. as such the OU class cannot use the OU_CLASS. instead we will
    import the uit.OUMixin class directly

2016-05-25  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: merged in changes made to the uio version since we copied it.

    * populate_fronter_groups.py (valid_roles): Changed valid_roles.FAGANSVAR to valid_roles.FAGANSVARL

2016-05-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): removed call to populate_expire_date(). we are trying to get as close to
    uio code as possible. We may have to revert this change later if expire date becomes a problem.

2016-05-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): removed call to
    set_expire_date(). This because we're trying to get as close to
    uio code as possible. We may have to revert this later on, if
    expire_date becomes a problem
    (determine_affiliations): All sito persons now get affiliation_sito. sterk/svak is no longer used

2016-05-10  Karen   <cerebrum@cleomedes.uit.no>

    * import_OU.py (set_quaran): Call to get_entity_quarantine() updated to use correct parameter name.

2016-05-10    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py (_handle_changes): removed call
    toset_home(). We do not use this

2016-05-10  Karen   <cerebrum@cleomedes.uit.no>

    * generate_OU.py (get_fs_ou): Replaced "self.fs.ou.GetAlleOUer(institusjonsnr=186)" with 
    "self.fs.ou.list_ou(institusjonsnr=186)" and commented out use of obsolete fields.

    * import_FS.py (process_person_callback): Now handles situations where populate is called with 
    deceased_date = None but deceased_date is already set in the database.

    * import_FS.py (_get_sted_address): Now using system_fs as source when calling ou.get_entity_address().

2016-05-10    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py: replaced all spread references to frida with
    cristin.

2016-05-06    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py: Added process_students.py to repo. This
    file was stolen from the contrib/uio directory. Appart from a few
    spread updates, no changes were needed

2016-05-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_paga.py (get_existing_accounts): Setting homedir when
    creating accounts is not needed. AD handles these things
    internally

2015-06-24    <cerebrum@cleomedes.uit.no>

    * generate_groups_ldif.py (dump_ldif_uit): Added uit function to add account owners into groups

2015-06-09  Karen   <cerebrum@cleomedes.uit.no>

    * export_ldap.py (ldap_export): Added group.ldif to the cat command in this script, so group.ldif 
    is now included in the created diff file (uit_diff_YYYYMMDD).

    * generate_groups_ldif.py (dump_ldif): Replaced objectClass uioGroup with uioUntypedObject.

    * generate_groups_ldif.py (dump_ldif): Added call to iso2utf() when generating a group's dn, so the 
    dn is utf-8.

2015-05-27  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: Added code to add spread group@ldap to all groups with spread CF@fronter.com.

2015-05-05  Karen   <cerebrum@cleomedes.uit.no>

    * ldapmodify.py: Added to repo. Copied from Leetah.

2015-04-20    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_flyt.py: updated all references to sko to no longer use Factory 

2015-02-26  Karen   <cerebrum@cleomedes.uit.no>

    * generate_temp_employee_xml.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * generate_temp_employee_xml.py (get_persons): Replaced deprecated use of OU.acronym with 
    OU.get_name_with_language().

    * generate_temp_employee_xml.py (get_persons): Added try-except block around call to 
    account.get_primary_mailaddress() to handle situations where an account has no primary 
    email address in the database.

    * export_securimaster.py: Added to repo. Copied from Leetah.

    * export_securimaster.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_securimaster.py (load_cb_data): Replaced deprecated use of OU.name with 
    OU.get_name_with_language().

2015-02-25  Karen   <cerebrum@cleomedes.uit.no>

    * export_safecom.py: Added to repo. Copied from Leetah.

    * export_safecom.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_safecom.py (write_export): Replaced deprecated use of OU.display_name with 
    OU.get_name_with_language().

    * export_pagaweb_users.py: Added to repo. Copied from Leetah.

    * generate_temp_employee_xml.py: Added to repo. Copied from Leetah.

2015-02-24  Karen   <cerebrum@cleomedes.uit.no>

    * export_username_changes: Added to repo. Copied from Leetah.

2015-02-23  Karen   <cerebrum@cleomedes.uit.no>

    * export_oid.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_oid.py (load_cb_data): Replaced deprecated use of OU.name with 
    OU.get_name_with_language(). Added ou.find() before call to OU.get_name_with_language().

2015-02-19  Karen   <cerebrum@cleomedes.uit.no>

    * export_oid.py: Added to repo. Copied from Leetah.

2015-02-18  Karen   <cerebrum@cleomedes.uit.no>

    * ldif-diff.pl: Added to repo. Copied from Leetah.

    * export_ldap.py: Added to repo. Copied from Leetah.

2015-02-13  Karen   <cerebrum@cleomedes.uit.no>

    * generate_kurs_ldif.py: Added to repo. Copied from contrib/no/uio.
    Changed 'uio' to 'uit' where relevant.

    * generate_groups_ldif.py: Added to repo. Copied from contrib/no/uio.
    Changed 'uio' to 'uit' where relevant.

2015-02-05  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: Removed all the uio-ifi-specific things.

2015-02-02  Karen   <cerebrum@cleomedes.uit.no>

    * ad_export_autogroups_undervisning.py (get_skoinfo): Replaced deprecated use of 
    OU.name, OU.short_name and OU.acronym with OU.get_name_with_language(). 

    * ad_export_autogroups_undervisning.py (GetStudieprogramgroups): Added two if-tests 
    to avoid the script crashing when a group is missing in stprog_info or a group 
    member is missing in accid2uname.

2015-01-28  Karen   <cerebrum@cleomedes.uit.no>

    * ad_export_autogroups_undervisning.py: Added to repo. Copied from Leetah. 
    Kenneth did some minor changes to get it to run on new cerebrum.

2014-12-23  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py(process_kursdata): Added if-test to avoid the script crashing when 
    auto_supergroup hasn't been added to AffiliatedGroups.

2014-12-16    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): now ou is populated with
    _withouth_sko to make it call correct populate function

    * export_cristin.py (LTPersonParser.startElement): added to repo. did a few minor changes to get it to run on new cerebrum.
    mor spesific how we build dict items now also with langauge code.

2014-12-09    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py (AccountUtil.create_user): set account expire_date the uit way
    (get_existing_accounts): make sure to also include expired accounts when setting new expire_date

2014-12-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py (ou.__init__): fixed typo in servername used in cx_oracle.connect() command

2014-11-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_uit_email.py: added to repository

2014-11-20    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py: updated sourcepath
    (ou.__init__): updated username and server to uio standard

2014-11-18    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py: replaced old process_students.py with new from uio

2014-11-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_system_accounts.py: updated source path. also fixed file encoding

    * import_tlf.py: commented function which notifies phone-admin whenever new persons are added

2014-11-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py (ou.get_fs_ou): updated function to get uit ou and FS username

2014-11-03    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_OU.py (send_notify_email): updated sender email

2014-10-31    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_exchange_email.py: Need to use uit email module.

    * import_OU.py: replaced old uit import_OU.py with uio import_OU.py

    * import_FS.py: Updated filepaths to reflect uit installation

2014-10-30    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_flyt.py: sko will now be derived from ou class. we no longer have a stedkode class

2014-10-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU_V2.py (ou.__init__): updated connection type to use xc_Oracle instead of DCOracle

2014-10-27    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py: oppdaterte source path to use the dumps dir (which it should have been all along)
    Also updated some import paths

2014-10-02  Karen   <cerebrum@metius.uit.no>

    * update_displayname.py: Updated Portal url.

2014-10-02  Karen   <cerebrum@metius.uit.no>

    * import_stillingskoder.py (sync_skoder): Now using the built in 'set' instead of the deprecated sets.Set.

2014-09-30  Karen   <cerebrum@metius.uit.no>

    * import_exchange_email.py (set_mail): Corrected a spelling error (from "logger.errir" to "logger.error")

2014-09-01  Karen   <cerebrum@metius.uit.no>

    * import_tlf.py (init_cache): Fixed a problem with using mx.DateTime.MaxDateTime, replaced it with 
    mx.DateTime.DateTime(datetime.MAXYEAR,12,31)

    * import_tlf.py (process_contact and process_telefoni): Now using the built in 'set' instead of the deprecated sets.Set.

2014-05-23  Karen   <cerebrum@metius.uit.no>

    * import_sito.py (import_OU): ou.populate() no longer sets name, acronym, short_name, 
    display_name or sort_name, they must be set with add_name_with_language(). Added code 
    to handle this.

    * import_sito.py (import_OU): Fixed a bug that occurred if an ou was in the expired list 
    but had already expired (EntityExpiredError was thrown). Nothing was done and the later 
    call to ou.write_db() failed since the ou object was empty. This occurred when an ou was 
    in the expired list twice. The code has been changed so that ou.write_db() isn't called if 
    EntityExpiredError is thrown.

2014-03-28  Karen   <cerebrum@metius.uit.no>

    * import_SYSX.py (create_sysx_person): now handles situations where a person has a 
    stedkode with value '0'. This is logged as a warning.

2014-03-25  Karen   <cerebrum@metius.uit.no>

    * generate_OU_V2.py (ou.__init__): Now using fskurs instead of fstest

2014-03-14  Karen   <cerebrum@metius.uit.no>

    * import_PAGA.py: Import of PagaDataParserClass was above import of cerebrum_path and 
    cereconf, causing the script to fail, fixed this by moving the import below the 
    import of cerebrum_path and cereconf.

    * import_PAGA.py (process_person): Fixed a bug where a query was failing because an 
    int was being compared to a string.

2014-02-25  Karen   <cerebrum@metius.uit.no>

    * generate_OU_V2.py (ou.__init__): Previosly logged an error and exited if one of the 
    input files was missing, now it logs a warning and continues running.
