2017-03-02    <cerebrum@cleomedes.uit.no-cleomedes>

	* import_tlf.py (init_cache): updated script to check number of changes towards cereconf.MAX_NUM_ALLOWED_CHANGES.
	if number of changes are larger, no changes are done and an error logged.

	* process_students.py (get_default_expire_date):
	default_expire_date is now calculated directly (and not set to
	none) when creating the account.

	* process_paga.py (Build.process_person): Also need to set expire
	data on accounts with current expire_date = None

2017-03-01    <cerebrum@cleomedes.uit.no-cleomedes>

	* user_expire.py: Email notifications are sent from leetah. cleomedes will not send emails yet..

2017-02-24    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py (get_existing_accounts): removed lots of debug lines. script changed to also process fagpersoner from fs

2017-02-08  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_uit_email.py (process_mail): Email addresses (primary and aliases) from Caesar 
    are now all cached at beginning of process_mail instead of getting them seperately for each account.

2017-02-07    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (Build._process_sysx): Unable to find account object for new user. return None, and continue with next user

2017-01-31    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_sito.py (_handle_changes): Added setting of account_home

2016-12-21    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py: further work on handling fagpersoner from FS

2016-12-14    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_students.py: Updated script to also handle fagpersoner from FS

2016-11-28  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito_email.py (get_cn_addr_tmp): Fixed a small bug.

2016-11-09  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py (create_user_tmp): Now checks if username is free in Clavius database. If not a
    warning is logged and the user is ignored.

    * process_sito.py (create_sito_account_tmp): Now checks if username is free in Clavius database. If not a
    warning is logged and the user is ignored.

2016-11-09    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_uit_email.py (process_mail): Collect email addresses (primary and alies) from caesar, instead of creating
	new ones in new cerebrum. Once old cerebrum is offline, this will have to be changed back

2016-11-08  Karen   <cerebrum@cleomedes.uit.no>

    * process_systemx.py: Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.

2016-11-08    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_paga.py (create_employee_account_tmp): Added sanity
	check when collecting username from old cerebrum. If the username
	is already taken in new cerebrum (which normally shouldnt
	happend.. but it does if join_person is executed on old cerebrum
	only), return error message and continue to next user

2016-11-07  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py: Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.
    
2016-10-28  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito_email.py: Made temporary changes to use while running old and new Cerebrum 
    in parallel: email and email aliases for new accounts are copied from old Cerebrum.

    * process_sito_email.py (process_mail): Now using correct spread constant for account search.

2016-10-20  Karen   <cerebrum@cleomedes.uit.no>
    
    * process_sito.py (create_sito_account): Made temporary changes to use while running old and 
    new Cerebrum in parallel: username and password for new accounts are copied from old Cerebrum.

    * process_sito.py (parse): Removed percentage check when creating sito accounts.

    * import_sito.py (generate_person_list): Removed percentage check when creating sito accounts.

2016-10-11  Karen   <cerebrum@cleomedes.uit.no>

    * process_sito_email.py: Changed import of simple_memoize to import of memoize and updated 
    code where simple_memoize was used.

2016-10-10    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_systemx.py (Build._CreateAccount): suggest_uname returns
	array. Although this is not needed what creating uit usernames, we
	make sure to select the first element. This ensures that we can
	use the uio code withouth any other changes

2016-10-04    <cerebrum@cleomedes.uit.no-cleomedes>

	* process_paga.py: updated how dryrun is used. also fixed
	suggest_unames to return first element in list. this because uio
	changes in their release

2016-10-03  Karen   <cerebrum@cleomedes.uit.no>

    * generate_paga_persons.py: Removed ekstra import of Cerebrum.Utils.Factory.

    * generate_OU.py: Updated import of AtomicFileWriter and removed ekstra import of 
    Cerebrum.Utils.Factory.

2016-09-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_paga_persons.py: AtomicFileWriter has been moved to its
    own file. updating imports

2016-08-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * export_ldap.py (ldap_export): Added kurs_ldif to the files concatenated into temp_uit_ldif

2016-08-08  Karen   <cerebrum@cleomedes.uit.no>

    * process_students.py: 'default_shell' is now initially set to 'const.posix_shell_bash' 
    instead of 'None'.

    * process_students.py (AccountUtil.create_user): Changed call to account.suggest_unames() 
    so first parameter is fnr instead of const.account_namespace.

2016-06-29  Karen   <cerebrum@cleomedes.uit.no>

    * export_xml_fronter.py: Adapted so it runs with new cerebrum and removed hifm_stedkode things. 

2016-06-28  Karen   <cerebrum@cleomedes.uit.no>

    * export_xml_fronter.py: Added to repo. Copied from Leetah.

2016-06-15    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_person): removed debug line

    * process_paga.py (_handle_changes): removed debug line

2016-06-09    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py (Build._CreateAccount): fnr need to be processed as string, not int

    * process_students.py: removed debug line
    (AccountUtil._handle_user_changes): removed debug line

2016-06-08    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (generate_person_list): Removed old debug line
    (import_OU): added ou.write_db after ou.populate. this is needed
    to get ou.entity_id in the add_name_with_language on the next line.

2016-05-30  Karen   <cerebrum@cleomedes.uit.no>

    * generate_fronter_full.py: Replaced 'uio' with 'uit' where necessary

2016-05-26  Karen   <cerebrum@cleomedes.uit.no>

    * generate_fronter_full.py: Added to repository. Copied from /home/cerebrum/cerebrum/contrib/no/uio/.

2016-05-26    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_sito.py (_handle_changes): we will no longer set account homedir
    sito does not use stedkoder. as such the OU class cannot use the OU_CLASS. instead we will
    import the uit.OUMixin class directly

2016-05-25  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: merged in changes made to the uio version since we copied it.

    * populate_fronter_groups.py (valid_roles): Changed valid_roles.FAGANSVAR to valid_roles.FAGANSVARL

2016-05-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): removed call to populate_expire_date(). we are trying to get as close to
    uio code as possible. We may have to revert this change later if expire date becomes a problem.

2016-05-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): removed call to
    set_expire_date(). This because we're trying to get as close to
    uio code as possible. We may have to revert this later on, if
    expire_date becomes a problem
    (determine_affiliations): All sito persons now get affiliation_sito. sterk/svak is no longer used

2016-05-10  Karen   <cerebrum@cleomedes.uit.no>

    * import_OU.py (set_quaran): Call to get_entity_quarantine() updated to use correct parameter name.

2016-05-10    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py (_handle_changes): removed call
    toset_home(). We do not use this

2016-05-10  Karen   <cerebrum@cleomedes.uit.no>

    * generate_OU.py (get_fs_ou): Replaced "self.fs.ou.GetAlleOUer(institusjonsnr=186)" with 
    "self.fs.ou.list_ou(institusjonsnr=186)" and commented out use of obsolete fields.

    * import_FS.py (process_person_callback): Now handles situations where populate is called with 
    deceased_date = None but deceased_date is already set in the database.

    * import_FS.py (_get_sted_address): Now using system_fs as source when calling ou.get_entity_address().

2016-05-10    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_systemx.py: replaced all spread references to frida with
    cristin.

2016-05-06    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py: Added process_students.py to repo. This
    file was stolen from the contrib/uio directory. Appart from a few
    spread updates, no changes were needed

2016-05-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_paga.py (get_existing_accounts): Setting homedir when
    creating accounts is not needed. AD handles these things
    internally

2015-06-24    <cerebrum@cleomedes.uit.no>

    * generate_groups_ldif.py (dump_ldif_uit): Added uit function to add account owners into groups

2015-06-09  Karen   <cerebrum@cleomedes.uit.no>

    * export_ldap.py (ldap_export): Added group.ldif to the cat command in this script, so group.ldif 
    is now included in the created diff file (uit_diff_YYYYMMDD).

    * generate_groups_ldif.py (dump_ldif): Replaced objectClass uioGroup with uioUntypedObject.

    * generate_groups_ldif.py (dump_ldif): Added call to iso2utf() when generating a group's dn, so the 
    dn is utf-8.

2015-05-27  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: Added code to add spread group@ldap to all groups with spread CF@fronter.com.

2015-05-05  Karen   <cerebrum@cleomedes.uit.no>

    * ldapmodify.py: Added to repo. Copied from Leetah.

2015-04-20    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_flyt.py: updated all references to sko to no longer use Factory 

2015-02-26  Karen   <cerebrum@cleomedes.uit.no>

    * generate_temp_employee_xml.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * generate_temp_employee_xml.py (get_persons): Replaced deprecated use of OU.acronym with 
    OU.get_name_with_language().

    * generate_temp_employee_xml.py (get_persons): Added try-except block around call to 
    account.get_primary_mailaddress() to handle situations where an account has no primary 
    email address in the database.

    * export_securimaster.py: Added to repo. Copied from Leetah.

    * export_securimaster.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_securimaster.py (load_cb_data): Replaced deprecated use of OU.name with 
    OU.get_name_with_language().

2015-02-25  Karen   <cerebrum@cleomedes.uit.no>

    * export_safecom.py: Added to repo. Copied from Leetah.

    * export_safecom.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_safecom.py (write_export): Replaced deprecated use of OU.display_name with 
    OU.get_name_with_language().

    * export_pagaweb_users.py: Added to repo. Copied from Leetah.

    * generate_temp_employee_xml.py: Added to repo. Copied from Leetah.

2015-02-24  Karen   <cerebrum@cleomedes.uit.no>

    * export_username_changes: Added to repo. Copied from Leetah.

2015-02-23  Karen   <cerebrum@cleomedes.uit.no>

    * export_oid.py: Replaced "Factory.get('Stedkode')(db)" with "Stedkode(db)".

    * export_oid.py (load_cb_data): Replaced deprecated use of OU.name with 
    OU.get_name_with_language(). Added ou.find() before call to OU.get_name_with_language().

2015-02-19  Karen   <cerebrum@cleomedes.uit.no>

    * export_oid.py: Added to repo. Copied from Leetah.

2015-02-18  Karen   <cerebrum@cleomedes.uit.no>

    * ldif-diff.pl: Added to repo. Copied from Leetah.

    * export_ldap.py: Added to repo. Copied from Leetah.

2015-02-13  Karen   <cerebrum@cleomedes.uit.no>

    * generate_kurs_ldif.py: Added to repo. Copied from contrib/no/uio.
    Changed 'uio' to 'uit' where relevant.

    * generate_groups_ldif.py: Added to repo. Copied from contrib/no/uio.
    Changed 'uio' to 'uit' where relevant.

2015-02-05  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py: Removed all the uio-ifi-specific things.

2015-02-02  Karen   <cerebrum@cleomedes.uit.no>

    * ad_export_autogroups_undervisning.py (get_skoinfo): Replaced deprecated use of 
    OU.name, OU.short_name and OU.acronym with OU.get_name_with_language(). 

    * ad_export_autogroups_undervisning.py (GetStudieprogramgroups): Added two if-tests 
    to avoid the script crashing when a group is missing in stprog_info or a group 
    member is missing in accid2uname.

2015-01-28  Karen   <cerebrum@cleomedes.uit.no>

    * ad_export_autogroups_undervisning.py: Added to repo. Copied from Leetah. 
    Kenneth did some minor changes to get it to run on new cerebrum.

2014-12-23  Karen   <cerebrum@cleomedes.uit.no>

    * populate_fronter_groups.py(process_kursdata): Added if-test to avoid the script crashing when 
    auto_supergroup hasn't been added to AffiliatedGroups.

2014-12-16    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py (import_OU): now ou is populated with
    _withouth_sko to make it call correct populate function

    * export_cristin.py (LTPersonParser.startElement): added to repo. did a few minor changes to get it to run on new cerebrum.
    mor spesific how we build dict items now also with langauge code.

2014-12-09    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py (AccountUtil.create_user): set account expire_date the uit way
    (get_existing_accounts): make sure to also include expired accounts when setting new expire_date

2014-12-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py (ou.__init__): fixed typo in servername used in cx_oracle.connect() command

2014-11-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_uit_email.py: added to repository

2014-11-20    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py: updated sourcepath
    (ou.__init__): updated username and server to uio standard

2014-11-18    <cerebrum@cleomedes.uit.no-cleomedes>

    * process_students.py: replaced old process_students.py with new from uio

2014-11-12    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_system_accounts.py: updated source path. also fixed file encoding

    * import_tlf.py: commented function which notifies phone-admin whenever new persons are added

2014-11-04    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU.py (ou.get_fs_ou): updated function to get uit ou and FS username

2014-11-03    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_OU.py (send_notify_email): updated sender email

2014-10-31    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_exchange_email.py: Need to use uit email module.

    * import_OU.py: replaced old uit import_OU.py with uio import_OU.py

    * import_FS.py: Updated filepaths to reflect uit installation

2014-10-30    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_flyt.py: sko will now be derived from ou class. we no longer have a stedkode class

2014-10-28    <cerebrum@cleomedes.uit.no-cleomedes>

    * generate_OU_V2.py (ou.__init__): updated connection type to use xc_Oracle instead of DCOracle

2014-10-27    <cerebrum@cleomedes.uit.no-cleomedes>

    * import_sito.py: oppdaterte source path to use the dumps dir (which it should have been all along)
    Also updated some import paths

2014-10-02  Karen   <cerebrum@metius.uit.no>

    * update_displayname.py: Updated Portal url.

2014-10-02  Karen   <cerebrum@metius.uit.no>

    * import_stillingskoder.py (sync_skoder): Now using the built in 'set' instead of the deprecated sets.Set.

2014-09-30  Karen   <cerebrum@metius.uit.no>

    * import_exchange_email.py (set_mail): Corrected a spelling error (from "logger.errir" to "logger.error")

2014-09-01  Karen   <cerebrum@metius.uit.no>

    * import_tlf.py (init_cache): Fixed a problem with using mx.DateTime.MaxDateTime, replaced it with 
    mx.DateTime.DateTime(datetime.MAXYEAR,12,31)

    * import_tlf.py (process_contact and process_telefoni): Now using the built in 'set' instead of the deprecated sets.Set.

2014-05-23  Karen   <cerebrum@metius.uit.no>

    * import_sito.py (import_OU): ou.populate() no longer sets name, acronym, short_name, 
    display_name or sort_name, they must be set with add_name_with_language(). Added code 
    to handle this.

    * import_sito.py (import_OU): Fixed a bug that occurred if an ou was in the expired list 
    but had already expired (EntityExpiredError was thrown). Nothing was done and the later 
    call to ou.write_db() failed since the ou object was empty. This occurred when an ou was 
    in the expired list twice. The code has been changed so that ou.write_db() isn't called if 
    EntityExpiredError is thrown.

2014-03-28  Karen   <cerebrum@metius.uit.no>

    * import_SYSX.py (create_sysx_person): now handles situations where a person has a 
    stedkode with value '0'. This is logged as a warning.

2014-03-25  Karen   <cerebrum@metius.uit.no>

    * generate_OU_V2.py (ou.__init__): Now using fskurs instead of fstest

2014-03-14  Karen   <cerebrum@metius.uit.no>

    * import_PAGA.py: Import of PagaDataParserClass was above import of cerebrum_path and 
    cereconf, causing the script to fail, fixed this by moving the import below the 
    import of cerebrum_path and cereconf.

    * import_PAGA.py (process_person): Fixed a bug where a query was failing because an 
    int was being compared to a string.

2014-02-25  Karen   <cerebrum@metius.uit.no>

    * generate_OU_V2.py (ou.__init__): Previosly logged an error and exited if one of the 
    input files was missing, now it logs a warning and continues running.
